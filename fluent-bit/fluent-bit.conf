# -------------
# 기본 구성, 로그 레벨, 파서 파일 설정등
# 키값 첫글자 대문자, 단어가 이어지면 _(스네이크), 새로운 단어 첫글자 대문자
# 스네이크 + 카멜 표기법 
# -------------
[SERVICE]
    Flush           1
    Log_Level       info
    Parsers_File    parsers.conf

# -------------
# kafka Cusumer
# -------------
[INPUT]
    Name            kafka
    Brokers         kafka:29092     # 카프카 서비스의 내부 접속 주소
    Topics          web_logs        # 프로듀서가 공급하는 메세지 토픽
    Group_Id        fluent-bit-group
    Format          json            # 메세지 포멧
    Tag             raw.logs        # 태그 (원본 데이터의 표식)

# -------------
# 데이터 전처리 : 구조 변경, 필요시 특정 데이터 삭제 등등.. 
# -------------
# [FILTER]
# [FILTER]
# [FILTER]
# [FILTER]

# -------------
# S3 업로드(raw data)
# -------------
# [OUTPUT]
# -------------
# opensearch 업로드(preprocessing data)
# -------------
# [OUTPUT]
# -------------
# 로깅 (개발시 데이터 형태 확인)
# -------------
[OUTPUT]
    Name        stdout
    # 모든 메세지 출력
    Match       *